<script type="text/javascript"
        src="https://www.gstatic.com/charts/loader.js"
></script>
<script type="text/javascript">
    if (!window.googleChartsLoaded) {
        google.charts.load('current', {'packages': ['corechart']});
        google.charts.setOnLoadCallback(drawCharts);
        window.googleChartsLoaded = true;
    }

    function drawCharts() {
        graphData['renderServerCare'] ? drawChart('serverCareIncidents') : '';
        drawChart('serviceDesk');
        drawChart('otherContracts');
        drawChart('totalSR');
        drawChart('historicTotalSR');
    }

    function drawChart(chartName) {

        var data = new google.visualization.DataTable();
        graphData[chartName]['columns'].forEach(function (columnName, id) {
            var type = "number";
            if (id === 0) {
                type = "string";
            }
            data.addColumn(type, columnName);
        });

        data.addRows(graphData[chartName]['data']);


        var options = {
            title: graphData[chartName]['title'],
            legend: {position: 'bottom'},
            height: 500,
            width: 1000
        };

        var chart = new google.visualization.LineChart(document.getElementById(chartName));

        chart.draw(data, options);

    }
</script>

<!--<div style="position: relative">-->
<!--<img src="{waterMark}"-->
<!--style="position: absolute;left: 0px;top: 0px;z-index: 99; opacity: 0.5"-->
<!--/>-->
<!--</div>-->

<div class="reportSection">
    <table class="invisible"
           style="width: 100%;"
    >
        <tr>
            <td style="width: 90%">&nbsp;<h1>{customerName} - Review Meeting {meetingDate}</h1></td>
            <td><img src="{siteURL}/images/cnclogo.jpg"
                     style="width:100px"
            ></td>
        </tr>
    </table>
</div>
<div class="reportSection"
     style="margin-bottom:30px"
>
    <h2>Customer Summary</h2>
    <div>
        Became Customer: {becameCustomerDate}({becameCustomerYears} years)
    </div>
    <div>
        CNC Account Manager: {accountManagerName}
    </div>
    <div>
        Key Customer Contact: {keyCustomerContactName}
    </div>
    <div {lastReviewMeetingClass}>
        Last Review Meeting : {lastReviewMeetingDate} - {reviewMeetingFrequency}
    </div>
</div>
<div class="reportSection"
     style="margin-bottom:30px"
>
    <h2>Support</h2>

    <table class="collapse">
        <tbody>
        <tr>
            <th style="text-align: left;">SR Priority</th>
            <td style="text-align: center;">1</td>
            <td style="text-align: center;">2</td>
            <td style="text-align: center;">3</td>
            <td style="text-align: center;">4</td>
            <td style="text-align: center;">5</td>
        </tr>

        <tr>
            <th style="text-align: left;">Response Hours</th>
            <td style="text-align: center;">{slaP1}</td>
            <td style="text-align: center;">{slaP2}</td>
            <td style="text-align: center;">{slaP3}</td>
            <td style="text-align: center;">{slaP4}</td>
            <td style="text-align: center;">{slaP5}</td>
        </tr>
        </tbody>
    </table>
</div>

<div class="reportSection">
    <div id="serverCareIncidents"></div>
</div>

<div class="reportSection">
    <div id="serviceDesk"></div>
</div>

<div class="reportSection">
    <div id="otherContracts"></div>
</div>

<div class="reportSection">
    <div id="totalSR"></div>
</div>

<div class="reportSection">
    <div id="historicTotalSR"></div>
</div>

<div class="reportSection">
    <h2>Supported Users - ({supportUsersCount} Total Named Contacts)</h2>
    {supportContactInfo}
</div>

<div class="reportSection newPage">
    <h2>Root Cause - {reportDate}</h2>
    <table class="collapse rootCause">
        <tbody>
        <!-- BEGIN rootCauseBlock -->
        <tr>

            <td>{srRootCauseDescription}</td>
            <td>{srCount}</td>

            <!-- END rootCauseBlock -->
        </tr>
        </tbody>
    </table>
</div>

<div class="reportSection">
    <h2>Service Request Count - {reportDate}</h2>
    <table class="collapse requestCount">
        <colgroup>
            <col span="1"
                 style="width: 40%;"
            >
            <col span="1"
                 style="width: 30%;"
            >
            <col span="1"
                 style="width: 30%;"
            >
        </colgroup>
        <thead>
        <tr>
            <th>Name</th>
            <th>Raised Manually</th>
            <th>Proactive Work</th>
        </tr>
        </thead>
        <tbody>
        <!-- BEGIN userBlock -->
        <tr>
            <td>{srUserName}</td>
            <td>{srCount}</td>
            <td>{srHiddenCount}</td>
        </tr>
        <!-- END userBlock -->
        </tbody>
    </table>
</div>