<script>
    $(function () {
        $('#dataTable').DataTable({
            dom: 'lfrtip',
            columns: [
                {data: "staffName", name: 'staffName'},
                {
                    data: "serviceRequestId", name: "serviceRequestId", render: (data, type, row, meta) => {
                        return '<a href="Activity.php?action=displayActivity&callActivityID=' + row.activityId + '" target="_blank">' + data + '</a>';
                    }
                },
                {
                    data: "dateSubmitted", name: "dateSubmitted", render: (data) => {
                        if (!data) {
                            return null;
                        }
                        return moment(data, "YYYY-MM-DD HH:mm:ss").format('DD/MM/YYYY');
                    }
                },
                {data: "expenseTypeDescription", name: "expenseTypeDescription"},
                {
                    data: "value", name: "value", render: (data) => {
                        if (!+data) {
                            return null;
                        }
                        return "&pound;" + data.toFixed(2);
                    }
                },
                {data: "projectDescription", name: "projectDescription"},
                {
                    data: "approvedDate", name: "approvedDate", render: (data) => {
                        if (!data) {
                            return null;
                        }
                        return moment(data, "YYYY-MM-DD HH:mm:ss").format('DD/MM/YYYY HH:mm');
                    }
                },
                {data: "approverName", name: "approverName"},
                {data: 'status', name: 'status'}
            ],
            serverSide: true,
            ajax: {
                url: "?action=getExpensesData",
                type: "GET"
            }
        })
    })
</script>

<table id="dataTable">
    <thead>
    <tr>
        <th>
            Staff Name
        </th>
        <th>
            SR Number
        </th>
        <th>
            Date of expense
        </th>
        <th>
            Expense Type
        </th>
        <th>
            Expense Value
        </th>
        <th>
            Project
        </th>
        <th>
            Approved Date
        </th>
        <th>
            Approved By
        </th>
        <th>
            Approved Status
        </th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>